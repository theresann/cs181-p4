# Imports.
import numpy as np
import numpy.random as npr
import pygame as pg
from collections import deque
import matplotlib.pyplot as plt

from SwingyMonkey import SwingyMonkey


class Learner(object):
	'''
	This agent jumps randomly.
	'''

	def __init__(self):
		self.last_state  = None
		self.last_action = None
		self.last_reward = None


	def reset(self):
		self.last_state  = None
		self.last_action = None
		self.last_reward = None

	def action_callback(self, state):
		'''
		Implement this function to learn things and take actions.
		Return 0 if you don't want to jump and 1 if you do.
		'''

		# You might do some learning here based on the current state and the last state.

		# You'll need to select and action and return it.
		# Return 0 to swing and 1 to jump.

		new_action = npr.rand() < 0.1
		new_state  = state

		self.last_action = new_action
		self.last_state  = new_state

		return self.last_action

	def reward_callback(self, reward):
		'''This gets called so you can see what reward you get.'''

		self.last_reward = reward

class SARSALearner(object):
	'''
	This agent jumps randomly.
	'''

	def __init__(self, n = 5, alpha = .4, gamma = 1):
		self.last_state  = None
		self.last_action = None
		self.last_reward = 0

		self.n = n
		self.alpha = alpha
		self.discount = gamma

		self.ru = n * -1
		self.queue = deque()

		self.Q = {}


	def reset(self):
		counter = len(self.queue)
		for _ in range(counter):
			self.updateState()
			self.queue.popleft()

		self.last_state  = None
		self.last_action = None
		self.last_reward = 0

		self.ru = self.n * -1
		self.queue = deque()


	def updateState(self):
		G = 0
		for i in range(len(self.queue)):
			G += self.discount**i * self.queue[i][2]
		Qrn = self.queue[len(self.queue) - 1]
		G = G + self.ru**len(self.queue) * self.Q[Qrn[0]][Qrn[1]]
		Qr = self.queue[0]
		self.Q[Qr[0]][Qr[1]] = self.Q[Qr[0]][Qr[1]] + self.alpha * (G - self.Q[Qr[0]][Qr[1]])

	def action_callback(self, state):
		'''
		Implement this function to learn things and take actions.
		Return 0 if you don't want to jump and 1 if you do.
		'''

		# You might do some learning here based on the current state and the last state.

		# You'll need to select and action and return it.
		# Return 0 to swing and 1 to jump.

		dist, top, bot = state['tree']['dist'], state['tree']['top'], state['tree']['bot']
		vel, mTop, mBot = state['monkey']['vel'], state['monkey']['top'], state['monkey']['bot']

		# qState = (dist, vel, top, bot, mTop, mBot)
		qState = (round(dist / 50), round(vel / 3), round(((top + bot) / 2 - (mTop + mBot) / 2) / 10))

		new_action = 0

		# Take Action
		if qState not in self.Q:
			if False:
				new_action = 1
				self.Q[qState] = [0,0.1]
			else:
				self.Q[qState] = [0,0]
				# print(len(self.Q))
		else:
			new_action = np.argmax(self.Q[qState])

		# Update Q(S,A)
		if self.ru >= 0:
			self.updateState()
			self.queue.popleft()
		else:
			self.ru += 1

		self.queue.append((qState, new_action, self.last_reward))

		self.last_action = new_action
		self.last_state  = qState

		# print(qState, self.last_reward)

		return self.last_action

	def reward_callback(self, reward):
		'''This gets called so you can see what reward you get.'''

		lst = self.queue[len(self.queue) - 1]
		self.queue[len(self.queue) - 1] = (lst[0], lst[1], reward)


		self.last_reward = reward



def run_games(learner, hist, iters = 100, t_len = 100):
	'''
	Driver function to simulate learning by having the agent play a sequence of games.
	'''
	for ii in range(iters):
		# Make a new monkey object.
		swing = SwingyMonkey(sound=False,                  # Don't play sounds.
							 text="Epoch %d" % (ii),       # Display the epoch on screen.
							 tick_length = t_len,          # Make game ticks super fast.
							 action_callback=learner.action_callback,
							 reward_callback=learner.reward_callback)

		# Loop until you hit something.
		while swing.game_loop():
			pass
		
		# Save score history.
		hist.append(swing.score)

		# Reset the state of the learner.
		learner.reset()
	pg.quit()
	return


if __name__ == '__main__':

	length = 1000
	c = [5]
	q = [0, 1, 1, 1, 0, 1, 0, 0, 1, 0, 2, 1, 1, 1, 1, 2, 0, 1, 1, 1, 0, 1, 1, 0, 2, 0, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1, 2, 2, 2, 2, 3, 1, 1, 1, 2, 2, 1, 2, 1, 3, 1, 2, 1, 2, 2, 1, 1, 4, 1, 2, 1, 1, 2, 1, 1, 2, 1, 2, 2, 1, 1, 1, 1, 5, 1, 3, 1, 1, 3, 3, 3, 1, 1, 1, 1, 2, 1, 1, 1, 1, 2, 3, 1, 3, 1, 1, 1, 3, 3, 1, 1, 2, 3, 1, 1, 1, 1, 3, 2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 1, 2, 2, 3, 1, 3, 2, 2, 2, 1, 3, 1, 1, 1, 2, 1, 2, 2, 2, 1, 1, 1, 1, 2, 1, 1, 1, 2, 1, 1, 2, 1, 1, 2, 2, 1, 1, 2, 2, 1, 2, 2, 1, 2, 1, 4, 2, 2, 1, 1, 1, 3, 2, 6, 1, 1, 5, 1, 2, 6, 1, 5, 2, 3, 2, 1, 1, 1, 2, 1, 1, 1, 2, 1, 1, 3, 1, 1, 1, 2, 1, 3, 1, 1, 3, 3, 2, 3, 1, 1, 1, 3, 1, 6, 2, 2, 1, 1, 1, 4, 1, 1, 2, 2, 1, 2, 1, 2, 2, 2, 3, 2, 1, 2, 2, 1, 2, 1, 4, 1, 3, 1, 5, 3, 2, 1, 3, 1, 1, 3, 3, 2, 1, 1, 2, 1, 1, 1, 2, 1, 2, 2, 3, 2, 1, 4, 1, 2, 1, 1, 3, 1, 3, 3, 3, 1, 1, 1, 1, 1, 2, 2, 4, 1, 2, 2, 1, 2, 1, 7, 1, 4, 3, 6, 3, 1, 1, 1, 2, 2, 1, 1, 1, 3, 1, 2, 2, 2, 2, 1, 1, 4, 2, 1, 4, 1, 2, 2, 1, 2, 1, 3, 2, 1, 2, 2, 1, 2, 1, 2, 2, 2, 1, 9, 2, 2, 1, 3, 1, 7, 3, 1, 7, 1, 4, 2, 1, 1, 2, 1, 7, 2, 3, 2, 3, 2, 1, 1, 2, 4, 2, 1, 4, 1, 3, 6, 2, 3, 1, 1, 2, 2, 1, 2, 4, 1, 1, 1, 7, 3, 1, 1, 3, 2, 1, 4, 1, 6, 2, 1, 1, 2, 2, 3, 1, 1, 2, 1, 2, 2, 2, 1, 1, 2, 3, 2, 1, 2, 1, 3, 3, 1, 1, 3, 2, 2, 3, 4, 2, 2, 1, 3, 1, 1, 1, 4, 5, 3, 3, 1, 2, 5, 2, 1, 1, 1, 2, 3, 2, 2, 4, 2, 3, 1, 1, 5, 2, 2, 2, 1, 2, 3, 1, 1, 1, 1, 3, 1, 1, 3, 2, 5, 1, 1, 1, 2, 2, 2, 1, 1, 6, 1, 1, 1, 1, 5, 3, 3, 13, 1, 1, 2, 5, 1, 1, 2, 1, 2, 1, 3, 1, 5, 5, 2, 2, 4, 3, 1, 1, 1, 1, 1, 1, 3, 1, 1, 1, 1, 7, 1, 1, 2, 1, 2, 8, 2, 2, 1, 3, 3, 3, 2, 8, 2, 1, 2, 2, 1, 1, 2, 1, 3, 6, 1, 2, 1, 2, 1, 1, 2, 4, 1, 1, 2, 1, 2, 1, 1, 4, 3, 1, 2, 3, 2, 2, 2, 1, 3, 1, 2, 3, 5, 1, 1, 1, 4, 2, 1, 1, 3, 3, 2, 2, 1, 1, 1, 5, 1, 5, 1, 5, 8, 4, 2, 1, 1, 1, 4, 2, 3, 1, 1, 5, 5, 2, 4, 4, 1, 1, 1, 1, 3, 1, 5, 2, 2, 2, 3, 2, 1, 11, 1, 4, 2, 1, 1, 4, 3, 2, 2, 2, 1, 1, 3, 1, 3, 1, 8, 2, 3, 1, 1, 1, 3, 3, 2, 2, 1, 1, 3, 1, 1, 2, 4, 1, 6, 1, 1, 1, 7, 1, 1, 4, 6, 2, 1, 1, 4, 1, 3, 1, 3, 2, 2, 2, 2, 3, 2, 2, 1, 2, 1, 3, 3, 1, 4, 2, 6, 1, 1, 3, 4, 2, 1, 1, 4, 3, 2, 3, 2, 3, 6, 2, 1, 4, 7, 1, 4, 6, 4, 2, 1, 1, 1, 1, 1, 4, 5, 1, 7, 1, 1, 1, 1, 7, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 2, 1, 1, 5, 1, 2, 1, 3, 7, 11, 1, 5, 4, 4, 3, 5, 4, 4, 3, 8, 3, 4, 2, 1, 2, 1, 1, 5, 3, 2, 3, 1, 5, 2, 1, 1, 1, 1, 2, 2, 3, 1, 2, 2, 1, 8, 2, 4, 1, 3, 4, 3, 2, 3, 3, 5, 2, 5, 1, 7, 5, 1, 6, 4, 3, 3, 5, 1, 1, 1, 4, 2, 1, 4, 2, 3, 3, 4, 2, 4, 2, 1, 1, 1, 1, 3, 2, 1, 1, 2, 4, 7, 4, 2, 2, 5, 2, 3, 1, 3, 4, 3, 1, 1, 1, 5, 5, 1, 2, 1, 1, 2, 1, 1, 1, 3, 3, 1, 2, 1, 5, 6, 2, 3, 1, 1, 2, 4, 1, 1, 1, 5, 6, 1, 3, 2, 3, 1, 2, 1, 5, 1, 5, 2, 1, 5, 1, 2, 3, 6, 2, 1, 1, 1, 4, 5, 2, 6, 5, 10, 2, 1, 2, 2, 11, 5, 2, 1, 10, 6, 2, 1, 4, 1, 1, 1, 1, 1, 1, 2, 4, 4, 2, 1, 1, 1, 2, 7, 1, 3, 4, 1, 1, 2, 4, 2, 2, 3, 5, 5, 1, 1, 2, 1, 1, 3, 2, 1, 7, 1, 1, 1, 5, 1, 3, 2, 3, 2, 4, 1, 3, 2, 1, 1, 3, 1, 1, 1, 1, 8, 3, 2, 4, 4, 3, 2, 5, 3, 7, 1, 3, 3, 0, 1, 3, 7, 1, 1, 1, 4, 12, 3, 3, 1, 15, 2, 5, 1, 1, 9, 3, 3, 3, 2, 3, 1, 6, 2, 4, 7, 2, 1, 1, 1, 3, 4, 3, 1, 6, 1, 3, 5, 6, 2, 1, 1, 1, 4, 1, 2, 4, 1, 2, 2, 1, 5, 2, 0, 2, 2, 1, 4, 3, 1, 3, 2, 11, 1, 1, 2, 1, 1, 1, 3, 2, 2, 4, 3, 4, 1, 1, 1, 2, 8, 1, 2, 2, 2, 2, 1, 1, 1, 1, 2, 2, 1, 3, 1, 1, 3, 2, 1, 2, 3, 4, 1, 1, 1, 4, 9, 4, 1, 2, 1, 1, 1, 1, 2, 1, 1, 6, 1, 2, 4, 6, 1, 3, 1, 1, 2, 2, 5, 1, 2, 1, 3, 2, 4, 1, 5, 3, 9, 1, 2, 1, 1, 5, 3, 3, 1, 2, 1, 1, 1, 1, 5, 2, 1, 1, 9, 1, 5, 2, 1, 5, 1, 1, 0, 2, 1, 1, 1, 0, 2, 2, 3, 1, 5, 1, 1, 1, 6, 1, 6, 1, 5, 2, 5, 2, 1, 6, 7, 3, 8, 0, 7, 4, 0, 2, 2, 4, 3, 4, 9, 3, 1, 1, 1, 3, 1, 4, 1, 6, 3, 2, 3, 2, 1, 1, 1, 11, 7, 1, 2, 6, 1, 5, 4, 2, 2, 1, 4, 1, 8, 1, 1, 1, 4, 2, 4, 12, 4, 5, 3, 1, 2, 2, 1, 1, 2, 1, 2, 4, 1, 4, 5, 2, 2, 1, 3, 1, 1, 7, 2, 1, 2, 1, 1, 2, 2, 3, 1, 7, 1, 1, 1, 1, 3, 1, 1, 5, 2, 1, 1, 3, 1, 1, 1, 1, 2, 1, 3, 6, 1, 1, 4, 1, 3, 2, 1, 1, 2, 0, 1, 2, 1, 1, 2, 1, 1, 1, 3, 1, 1, 5, 1, 1, 3, 5, 1, 4, 1, 2, 4, 1, 2, 2, 2, 5, 1, 5, 0, 4, 4, 1, 3, 2, 4, 1, 1, 1, 1, 1, 1, 3, 2, 2, 1, 2, 1, 8, 3, 1, 2, 2, 1, 1, 2, 2, 1, 2, 2, 1, 3, 7, 2, 2, 1, 2, 1, 2, 1, 2, 1, 5, 4, 3, 2, 2, 3, 5, 0, 4, 1, 1, 1, 0, 3, 1, 1, 1, 1, 5, 2, 6, 0, 1, 8, 4, 1, 4, 1, 0, 4, 1, 3, 1, 3, 9, 2, 1, 0, 1, 3, 3, 3, 2, 1, 7, 4, 0, 1, 3, 1, 2, 1, 2, 1, 3, 13, 1, 5, 1, 4, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 0, 1, 1, 1, 1, 1, 3, 1, 1, 2, 4, 1, 1, 2, 2, 2, 2, 1, 2, 1, 4, 4, 10, 2, 1, 1, 1, 3, 1, 1, 9, 1, 4, 2, 1, 1, 1, 11, 3, 2, 1, 3, 5, 2, 1, 1, 1, 6, 2, 1, 1, 1, 1, 1, 1, 1, 2, 2, 1, 1, 2, 5, 0, 1, 2, 1, 1, 1, 2, 1, 3, 1, 6, 8, 6, 1, 2, 1, 3, 1, 1, 1, 2, 3, 2, 1, 0, 1, 3, 1, 4, 1, 1, 1, 2, 3, 1, 1, 3, 2, 2, 0, 4, 3, 1, 1, 1, 2, 6, 1, 1, 1, 4, 3, 3, 1, 4, 8, 1, 2, 1, 1, 1, 4, 1, 0, 10, 4, 2, 1, 0, 6, 1, 3, 1, 3, 1, 1, 2, 1, 1, 1, 7, 1, 3, 6, 1, 10, 2, 1, 1, 2, 1, 3, 5, 2, 8, 0, 1, 10, 1, 1, 2, 4, 1, 2, 6, 1, 1, 3, 1, 1, 1, 2, 3, 5, 1, 2, 7, 13, 2, 1, 5, 2, 5, 6, 7, 2, 2, 3, 1, 1, 2, 3, 1, 10, 1, 2, 3, 1, 1, 1, 1, 2, 1, 3, 2, 3, 2, 3, 10, 2, 4, 5, 2, 1, 2, 5, 1, 1, 3, 1, 1, 5, 2, 1, 3, 3, 6, 7, 3, 2, 2, 3, 1, 2, 1, 6, 1, 3, 1, 1, 5, 2, 5, 1, 3, 2, 1, 3, 4, 1, 3, 4, 2, 3, 1, 2, 2, 4, 1, 1, 3, 2, 1, 12, 1, 1, 1, 6, 2, 6, 7, 1, 1, 2, 1, 4, 1, 1, 5, 1, 1, 1, 1, 2, 7, 3, 3, 1, 1, 5, 1, 2, 8, 1, 6, 1, 4, 1, 1, 1, 2, 2, 3, 1, 2, 8, 1, 1, 1, 2, 3, 5, 3, 1, 5, 5, 2, 1, 4, 1, 1, 5, 1, 1, 1, 12, 1, 1, 1, 5, 1, 3, 4, 11, 1, 7, 4, 1, 5, 1, 1, 3, 2, 2, 3, 1, 2, 1, 2, 8, 2, 1, 1, 1, 2, 2, 6, 2, 1, 1, 1, 3, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 2, 2, 2, 1, 5, 3, 4, 1, 1, 1, 1, 1, 5, 1, 3, 1, 1, 1, 8, 3, 1, 7, 18, 1, 3, 1, 4, 1, 8, 6, 1, 1, 6, 9, 3, 1, 3, 5, 7, 2, 3, 3, 1, 1, 1, 2, 1, 7, 1, 2, 2, 1, 2, 1, 1, 3, 5, 2, 4, 2, 2, 1, 2, 1, 2, 1, 1, 4, 1, 2, 4, 11, 1, 3, 1, 3, 2, 1, 1, 3, 7, 1, 3, 1, 2, 1, 2, 2, 1, 5, 5, 3, 2, 2, 9, 2, 1, 5, 3, 1, 1, 3, 1, 1, 4, 4, 8, 2, 3, 3, 7, 1, 5, 5, 1, 2, 1, 1, 5, 2, 2, 3, 1, 9, 1, 2, 3, 2, 1, 2, 1, 1, 3, 1, 1, 1, 1, 6, 5, 3, 2, 2, 1, 1, 2, 1, 5, 4, 2, 3, 1, 3, 10, 1, 1, 4, 2, 2, 2, 1, 2, 7, 2, 4, 3, 3, 1, 4, 4, 1, 2, 1, 3, 1, 10, 1, 3, 2, 11, 3, 2, 5, 1, 2, 1, 2, 2, 2, 3, 2, 1, 3, 1, 1, 1, 2, 6, 1, 13, 1, 1, 1, 3, 1, 2, 1, 2, 2, 2, 1, 1, 3, 2, 2, 1, 1, 2, 1, 1, 1, 1, 1, 3, 1, 1, 3, 1, 3, 3, 1, 1, 5, 5, 1, 4, 13, 3, 4, 2, 10, 10, 4, 1, 3, 1, 2, 2, 5, 2, 1, 8, 1, 1, 4, 5, 5, 1, 2, 3, 2, 4, 6, 9, 2, 2, 1, 6, 2, 6, 2, 3, 4, 2, 3, 6, 7, 9, 1, 4, 2, 4, 1, 1, 2, 3, 1, 1, 1, 3, 2, 6, 1, 2, 1, 3, 1, 7, 1, 1, 2, 2, 5, 4, 1, 9, 1, 2, 1, 1, 9, 2, 1, 1, 2, 1, 1, 2, 2, 7, 1, 1, 1, 2, 2, 3, 2, 1, 5, 1, 3, 4, 1, 1, 3, 5, 2, 1, 9, 2, 1, 2, 1, 8, 6, 2, 1, 1, 1, 0, 7, 2, 3, 0, 2, 1, 1, 1, 2, 8, 3, 1, 4, 1, 3, 1, 0, 7, 1, 1, 2, 5, 5, 1, 1, 1, 1, 0, 2, 3, 1, 1, 9, 9, 2, 2, 2, 2, 1, 5, 3, 7, 1, 0, 7, 1, 1, 2, 2, 0, 1, 1, 6, 2, 0, 1, 1, 1, 1, 1, 1, 4, 2, 3, 1, 2, 1, 3, 2, 4, 5, 1, 1, 1, 1, 4, 2, 0, 2, 2, 1, 3, 1, 5, 1, 1, 1, 7, 1, 1, 2, 2, 1, 6, 2, 1, 5, 0, 6, 10, 8, 0, 1, 5, 1, 3, 11, 1, 1, 1, 2, 1, 1, 8, 4, 3, 2, 2, 6, 0, 1, 2, 1, 7, 4, 2, 1, 0, 3, 1, 4, 2, 2, 5, 1, 3, 2, 2, 3, 3, 3, 1, 9, 1, 2, 4, 0, 1, 2, 1, 1, 1, 1, 2, 1, 1, 6, 2, 1, 4, 5, 2, 4, 5, 1, 2, 5, 12, 3, 2, 4, 1, 0, 2, 0, 8, 0, 5, 1, 2, 1, 3, 1, 1, 1, 3, 3, 5, 1, 1, 2, 8, 1, 1, 3, 3, 3, 1, 2, 1, 7, 2, 4, 1, 1, 1, 2, 4, 5, 0, 1, 4, 1, 2, 2, 4, 3, 1, 0, 1, 5, 3, 1, 2, 1, 1, 2, 1, 1, 10, 1, 1, 3, 2, 1, 7, 7, 1, 2, 2, 2, 1, 2, 1, 1, 3, 1, 3, 2, 4, 1, 2, 1, 1, 2, 1, 1, 3, 2, 6, 0, 7, 2, 2, 9, 1, 3, 0, 6, 4, 2, 1, 3, 1, 3, 1, 1, 2, 2, 2, 4, 1, 1, 2, 1, 1, 1, 9, 1, 0, 2, 3, 3, 1, 0, 1, 1, 1, 10, 3, 3, 6, 2, 6, 1, 2, 1, 8, 1, 1, 3, 1, 1, 3, 1, 4, 1, 3, 1, 1, 5, 1, 3, 2, 2, 1, 1, 1, 0, 1, 1, 2, 12, 2, 1, 5, 5, 1, 1, 2, 1, 1, 2, 4, 7, 1, 4, 1, 1, 1, 2, 2, 3, 1, 1, 3, 1, 1, 1, 5, 3, 1, 2, 0, 1, 1, 2, 1, 9, 3, 2, 5, 1, 4, 1, 2, 1, 1, 5, 5, 1, 1, 3, 2, 5, 1, 0, 2, 1, 1, 4, 2, 6, 2, 2, 4, 7, 1, 12, 1, 1, 8, 2, 1, 1, 1, 0, 1, 3, 3, 2, 1, 2, 6, 1, 1, 4, 1, 4, 1, 2, 0, 2, 2, 4, 2, 0, 2, 2, 3, 2, 4, 9, 0, 4, 2, 1, 2, 1, 1, 1, 4, 1, 1, 3, 1, 1, 9, 1, 2, 4, 1, 2, 3, 3, 6, 3, 4, 4, 1, 2, 13, 1, 1, 2, 1, 1, 6, 4, 4, 4, 2, 2, 0, 1, 3, 4, 2, 4, 2, 1, 4, 2, 1, 2, 3, 1, 2, 1, 1, 2, 2, 2, 1, 1, 2, 2, 4, 0, 5, 0, 0, 3, 2, 1, 4, 2, 1, 1, 1, 9, 1, 1, 1, 1, 3, 3, 1, 1, 1, 5, 2, 2, 3, 1, 4, 6, 2, 2, 2, 2, 1, 1, 1, 1, 1, 12, 1, 4, 2, 2, 2, 2, 1, 6, 4, 6, 2, 2, 4, 5, 1, 1, 2, 4, 1, 2, 0, 2, 2, 1, 7, 2, 3, 3, 4, 1, 3, 2, 7, 1, 2, 1, 2, 0, 2, 1, 1, 0, 1, 1, 4, 2, 3, 1, 2, 4, 1, 1, 3, 1, 1, 4, 1, 4, 2, 1, 1, 2, 4, 1, 1, 1, 4, 4, 4, 2, 1, 4, 10, 3, 1, 3, 1, 3, 1, 11, 3, 1, 5, 3, 1, 2, 1, 2, 4, 4, 2, 1, 1, 2, 3, 1, 2, 1, 2, 8, 4, 1, 1, 5, 1, 2, 1, 1, 4, 3, 1, 1, 1, 3, 6, 0, 3, 0, 5, 1, 1, 14, 1, 1, 2, 2, 3, 1, 5, 1, 5, 2, 1, 1, 8, 3, 1, 1, 0, 1, 2, 0, 3, 3, 2, 7, 13, 1, 0, 2, 3, 0, 6, 2, 1, 1, 3, 1, 4, 2, 2, 2, 1, 1, 1, 1, 1, 1, 4, 3, 2, 2, 1, 4, 3, 1, 1, 4, 2, 6, 2, 3, 11, 2, 4, 1, 1, 1, 2, 1, 5, 3, 9, 1, 8, 1, 1, 1, 1, 1, 1, 3, 1, 1, 2, 1, 6, 7, 3, 3, 7, 1, 1, 9, 2, 3, 0, 0, 1, 2, 1, 1, 4, 1, 3, 2, 1, 2, 1, 5, 1, 1, 5, 1, 7, 5, 2, 1, 2, 3, 6, 6, 1, 1, 2, 1, 1, 5, 2, 2, 2, 1, 1, 3, 1, 4, 4, 2, 2, 1, 2, 8, 2, 1, 4, 3, 1, 1, 3, 0, 3, 2, 5, 4, 1, 1, 3, 2, 3, 4, 1, 1, 1, 3, 4, 2, 1, 6, 6, 1, 4, 2, 1, 1, 1, 2, 2, 1, 7, 10, 1, 3, 1, 0, 3, 2, 2, 1, 1, 3, 1, 4, 2, 6, 2, 8, 2, 3, 2, 3, 1, 2, 3, 5, 3, 1, 9, 3, 2, 1, 2, 2, 4, 0, 1, 5, 1, 3, 1, 1, 1, 1, 3, 5, 0, 2, 9, 2, 2, 1, 3, 0, 3, 1, 2, 7, 3, 2, 1, 2, 1, 2, 1, 1, 7, 9, 1, 3, 4, 2, 2, 4, 1, 1, 1, 1, 1, 1, 10, 1, 1, 1, 2, 6, 2, 5, 1, 3, 3, 4, 3, 3, 2, 1, 1, 0, 1, 2, 3, 1, 7, 3, 5, 1, 1, 1, 1, 2, 5, 1, 2, 1, 1, 1, 1, 2, 1, 7, 1, 2, 5, 1, 0, 4, 1, 4, 1, 1, 6, 2, 5, 3, 2, 14, 1, 1, 5, 1, 1, 1, 4, 0, 1, 1, 5, 2, 3, 1, 2, 1, 1, 1, 1, 5, 3, 1, 1, 3, 1, 1, 7, 1, 5, 3, 4, 3, 4, 2, 3, 2, 1, 8, 5, 0, 2, 1, 1, 2, 1, 2, 2, 6, 11, 3, 1, 1, 4, 9, 2, 4, 1, 0, 4, 3, 1, 6, 6, 1, 5, 2, 5, 2, 3, 1, 6, 2, 0, 1, 1, 10, 1, 2, 5, 3, 8, 1, 9, 1, 1, 0, 2, 5, 4, 1, 9, 5, 6, 1, 6, 9, 2, 1, 9, 1, 2, 3, 1, 2, 2, 2, 2, 3, 3, 2, 4, 1, 5, 4, 1, 1, 2, 3, 1, 1, 3, 1, 8, 1, 4, 3, 4, 1, 0, 0, 2, 1, 1, 2, 6, 3, 1, 0, 4, 2, 2, 2, 7, 1, 1, 6, 4, 1, 1, 1, 2, 1, 0, 2, 3, 1, 3, 1, 1, 8, 7, 1, 1, 1, 1, 2, 1, 3, 7, 1, 2, 1, 2, 12, 5, 1, 4, 2, 2, 1, 0, 16, 2, 5, 5, 3, 1, 2, 1, 1, 1, 5, 1, 1, 8, 1, 1, 2, 5, 4, 1, 1, 1, 1, 3, 3, 1, 7, 1, 1, 1, 6, 7, 2, 5, 3, 1, 1, 1, 6, 2, 3, 4, 3, 6, 1, 1, 1, 1, 2, 1, 1, 1, 1, 4, 6, 3, 2, 5, 2, 1, 6, 2, 1, 2, 2, 1, 2, 1, 2, 1, 2, 6, 1, 1, 2, 2, 4, 3, 4, 2, 1, 4, 7, 1, 5, 1, 3, 1, 1, 2, 1, 1, 1, 0, 0, 1, 2, 1, 9, 2, 1, 8, 2, 1, 2, 1, 3, 7, 2, 3, 2, 1, 7, 2, 2, 1, 7, 1, 7, 2, 1, 1, 7, 5, 2, 3, 2, 2, 1, 2, 1, 1, 6, 2, 0, 6, 1, 3, 2, 1, 11, 3, 0, 1, 1, 2, 1, 1, 1, 1, 2, 6, 1, 1, 2, 1, 2, 2, 5, 3, 0, 1, 2, 2, 5, 9, 8, 1, 4, 8, 0, 1, 2, 2, 1, 1, 1, 2, 1, 3, 1, 4, 2, 2, 2, 1, 1, 4, 3, 1, 4, 2, 2, 3, 2, 0, 7, 5, 2, 1, 2, 1, 2, 1, 2, 0, 2, 1, 2, 1, 15, 2, 6, 1, 1, 3, 4, 5, 4, 2, 1, 1, 2, 1, 1, 2, 1, 3, 1, 1, 3, 1, 3, 1, 1, 1, 1, 2, 6, 2, 3, 5, 3, 5, 1, 2, 1, 1, 1, 1, 2, 0, 1, 1, 6, 1, 0, 4, 0, 2, 2, 8, 11, 1, 1, 2, 10, 1, 1, 1, 3, 1, 5, 1, 2, 1, 0, 1, 6, 1, 2, 2, 7, 1, 2, 1, 1, 2, 6, 4, 8, 1, 9, 2, 2, 2, 8, 5, 5, 3, 2, 2, 1, 6, 4, 1, 8, 1, 6, 5, 2, 2, 7, 1, 2, 2, 1, 1, 1, 1, 3, 1, 1, 1, 1, 1, 13, 4, 1, 1, 7, 1, 3, 1, 1, 2, 1, 2, 2, 5, 1, 3, 2, 2, 1, 0, 3, 9, 1, 0, 3, 2, 1, 3, 2, 6, 1, 1, 1, 2, 3, 2, 2, 1, 1, 2, 1, 1, 4, 2, 3, 4, 2, 1, 2, 5, 3, 2, 2, 1, 2, 1, 10, 2, 5, 3, 4, 2, 1, 1, 1, 3, 4, 1, 4, 1, 0, 2, 1, 6, 3, 2, 2, 7, 3, 2, 6, 9, 1, 1, 0, 2, 1, 1, 2, 8, 4, 1, 3, 1, 1, 3, 1, 4, 1, 2, 2, 3, 1, 2, 2, 3, 1, 1, 1, 3, 2, 1, 1, 3, 1, 3, 3, 2, 1, 1, 1, 1, 9, 2, 5, 1, 2, 5, 1, 1, 1, 1, 2, 9, 1, 1, 19, 1, 1, 4, 1, 2, 0, 1, 1, 1, 8, 1, 1, 2, 1, 4, 1, 1, 2, 5, 1, 1, 2, 2, 1, 3, 5, 1, 2, 10, 1, 3, 2, 0, 1, 5, 2, 4, 1, 5, 6, 0, 2, 4, 1, 2, 0, 4, 9, 0, 2, 1, 3, 1, 0, 6, 2, 2, 1, 2, 2, 0, 1, 1, 0, 2, 2, 4, 2, 1, 5, 1, 2, 6, 3, 1, 7, 0, 1, 3, 7, 5, 3, 4, 5, 2, 1, 4, 1, 1, 1, 1, 1, 4, 2, 1, 3, 1, 1, 1, 2, 1, 1, 1, 1, 3, 1, 4, 1, 1, 1, 9, 2, 2, 2, 2, 1, 3, 3, 2, 3, 3, 1, 1, 1, 2, 5, 5, 1, 2, 4, 1, 1, 1, 15, 4, 1, 4, 1, 2, 1, 3, 6, 1, 1, 2, 1, 1, 0, 6, 7, 2, 1, 4, 1, 1, 2, 1, 1, 5, 2, 1, 1, 8, 0, 8, 2, 3, 2, 1, 2, 1, 5, 2, 3, 1, 1, 1, 3, 3, 4, 3, 1, 1, 1, 1, 1, 2, 13, 2, 1, 1, 1, 1, 3, 1, 1, 2, 4, 2, 1, 3, 3, 2, 1, 1, 3, 4, 4, 1, 1, 5, 1, 2, 8, 3, 2, 1, 2, 1, 2, 2, 1, 1, 1, 2, 4, 1, 4, 1, 3, 1, 0, 0, 1, 4, 3, 3, 5, 3, 4, 1, 4, 5, 1, 1, 1, 0, 2, 4, 4, 3, 12, 6, 3, 1, 1, 2, 1, 1, 2, 5, 2, 4, 1, 5, 5, 2, 3, 1, 1, 1, 2, 1, 2, 1, 3, 1, 2, 3, 1, 1, 0, 1, 3, 4, 1, 6, 2, 3, 1, 6, 1, 5, 2, 1, 5, 2, 4, 2, 2, 1, 1, 4, 2, 2, 1, 1, 3, 7, 4, 4, 3, 1, 1, 3, 2, 0, 3, 7, 1, 1, 2, 3, 1, 2, 5, 7, 3, 2, 1, 8, 1, 1, 6, 2, 2, 1, 11, 1, 4, 2, 0, 1, 1, 9, 5, 1, 2, 0, 1, 3, 5, 2, 1, 2, 2, 1, 1, 2, 1, 1, 5, 1, 1, 1, 0, 8, 6, 1, 2, 1, 1, 1, 0, 1, 1, 1, 1, 2, 5, 1, 2, 3, 0, 1, 3, 3, 2, 3, 2, 2, 11, 1, 5, 9, 1, 2, 2, 1, 2, 6, 3, 0, 3, 5, 0, 2, 1, 5, 2, 0, 1, 1, 4, 6, 15, 1, 2, 1, 0, 4, 3, 5, 2, 4, 4, 2, 1, 2, 8, 4, 2, 1, 1, 2, 1, 1, 1, 3, 8, 2, 1, 2, 2, 1, 1, 5, 1, 1, 1, 2, 6, 2, 0, 1, 8, 8, 4, 2, 2, 5, 4, 4, 2, 5, 0, 2, 2, 5, 0, 1, 1, 1, 1, 6, 1, 6, 3, 3, 2, 3, 4, 1, 1, 11, 3, 2, 2, 1, 0, 3, 5, 3, 2, 3, 8, 1, 11, 0, 1, 4, 1, 3, 1, 2, 5, 1, 2, 0, 1, 8, 3, 2, 1, 1, 3, 0, 1, 1, 4, 3, 1, 0, 5, 1, 1, 1, 1, 2, 1, 1, 1, 2, 1, 1, 3, 6, 2, 1, 2, 2, 2, 1, 1, 1, 2, 1, 1, 2, 4, 5, 2, 2, 1, 2, 2, 1, 3, 5, 4, 1, 2, 2, 0, 4, 2, 2, 1, 3, 5, 1, 4, 3, 1, 1, 2, 2, 1, 1, 6, 3, 1, 1, 1, 7, 1, 3, 1, 2, 1, 2, 0, 8, 4, 2, 1, 1, 3, 9, 5, 3, 7, 8, 1, 0, 2, 6, 1, 1, 4, 5, 4, 4, 6, 3, 1, 1, 4, 2, 2, 3, 2, 1, 1, 2, 3, 2, 8, 1, 2, 1, 5, 1, 3, 3, 1, 1, 3, 3, 3, 2, 6, 1, 1, 2, 2, 1, 4, 1, 2, 2, 1, 1, 3, 2, 1, 7, 1, 1, 1, 1, 3, 0, 2, 2, 1, 0, 1, 3, 1, 7, 6, 1, 2, 4, 1, 2, 4, 1, 13, 2, 1, 1, 1, 4, 2, 3, 2, 1, 2, 3, 3, 2, 1, 2, 1, 4, 4, 2, 3, 4, 1, 7, 8, 1, 8, 5, 1, 3, 1, 3, 3, 1, 0, 2, 2, 1, 1, 2, 2, 9, 6, 2, 4, 1, 2, 10, 3, 2, 3, 1, 1, 8, 1, 2, 1, 2, 2, 1, 20, 14, 13, 5, 1, 1, 0, 2, 2, 2, 1, 1, 4, 2, 5, 11, 1, 3, 3, 4, 12, 0, 1, 4, 8, 1, 1, 7, 18, 1, 10, 2, 1, 2, 2, 1, 3, 1, 3, 6, 1, 2, 2, 2, 4, 1, 7, 2, 12, 2, 1, 1, 5, 1, 1, 2, 1, 1, 3, 3, 1, 5, 1, 1, 11, 2, 2, 1, 1, 4, 1, 2, 1, 1, 2, 2, 1, 3, 1, 2, 1, 3, 5, 4, 9, 1, 1, 4, 5, 1, 5, 1, 1, 3, 1, 1, 2, 1, 1, 2, 2, 1, 1, 1, 3, 5, 1, 4, 3, 2, 2, 2, 2, 1, 1, 2, 3, 1, 1, 1, 2, 3, 0, 1, 2, 1, 1, 5, 1, 1, 1, 1, 6, 1, 1, 1, 1, 1, 2, 5, 4, 1, 2, 1, 3, 1, 2, 1, 3, 2, 1, 1, 1, 1, 1, 0, 2, 1, 0, 1, 6, 2, 0, 1, 2, 2, 2, 1, 3, 1, 6, 2, 2, 0, 1, 1, 1, 2, 2, 1, 4, 7, 0, 3, 1, 1, 1, 2, 1, 2, 3, 14, 0, 1, 1, 1, 1, 3, 3, 0, 3, 2, 1, 1, 2, 3, 3, 2, 1, 2, 2, 1, 1, 3, 1, 1, 1, 5, 4, 2, 2, 1, 1, 1, 6, 1, 4, 2, 1, 2, 1, 1, 1, 3, 2, 2, 1, 4, 1, 3, 1, 4, 2, 8, 2, 0, 2, 2, 3, 5, 0, 1, 3, 7, 3, 0, 2, 1, 1, 1, 2, 2, 1, 1, 2, 1, 6, 0, 4, 0, 1, 6, 2, 1, 6, 2, 4, 2, 2, 1, 2, 1, 1, 2, 1, 2, 2, 2, 1, 14, 3, 2, 6, 12, 2, 1, 2, 1, 1, 3, 1, 10, 1, 3, 3, 1, 1, 3, 1, 0, 1, 4, 9, 2, 4, 2, 1, 5, 3, 0, 0, 1, 1, 10, 1, 1, 5, 5, 1, 1, 1, 1, 3, 1, 1, 3, 1, 2, 3, 1, 1, 1, 6, 1, 1, 12, 1, 1, 5, 1, 2, 1, 5, 2, 2, 2, 3, 1, 1, 2, 3, 2, 1, 1, 5, 1, 0, 3, 2, 1, 3, 1, 1, 7, 1, 1, 0, 1, 5, 3, 1, 1, 2, 4, 2, 1, 2, 4, 0, 1, 2, 2, 5, 1, 2, 1, 3, 2, 1, 2, 1, 1, 4, 1, 2, 0, 5, 2, 1, 2, 0, 9, 5, 3, 1, 3, 2, 1, 1, 1, 4, 1, 1, 2, 2, 1, 1, 6, 1, 1, 3, 4, 4, 2, 1, 1, 1, 1, 4, 4, 2, 1, 1, 1, 4, 1, 1, 1, 3, 1, 3, 1, 2, 3, 1, 1, 9, 1, 3, 5, 2, 5, 1, 4, 2, 2, 1, 1, 1, 1, 1, 0, 1, 1, 10, 4, 2, 7, 1, 6, 6, 4, 4, 2, 1, 3, 4, 1, 2, 1, 4, 6, 3, 1, 3, 2, 2, 12, 1, 4, 3, 4, 5, 1, 3, 3, 1, 1, 1, 3]
	a = []
	h = []

	for N in range(1,2):
		plt.figure()
		plt.xlabel("Episode")
		plt.ylabel("Average")
		plt.title("N: " + str(N))
		hh = []
		aa = []
		for A in range(1,6):

			# Select agent.
			agent = SARSALearner(n = float("inf"), alpha = A * .1)

			# Empty list to save history.
			hist = []

			# Run games. 
			run_games(agent, hist, length, 1)

			hh.append(hist)
			aa.append(A * .1)

			# Save history. 
			# np.save('hist',np.array(hist))
			# print(hist)
			print(N)
		
		h.append(hh)
		a.append(aa)

	for N in range(len(h)):
		plt.figure()
		plt.xlabel("Episode")
		plt.ylabel("Average")
		# plt.title("N: " + str(N + 1))
		plt.title("Monte Carlo")
		for i in range(5):
			plt.plot(range(length), np.cumsum(h[N][i]) / np.arange(1, len(h[N][i]) +1), label = "Alpha: " + str((i+1) * .1))
		plt.legend()
		plt.show()

	# plt.figure()
	# plt.xlabel("Episode")
	# plt.ylabel("Average")
	# plt.title("N: 5, Alpha: 0.5")
	# plt.plot(range(length), np.cumsum(h) / np.arange(1, len(h) +1))
	# plt.show()
		